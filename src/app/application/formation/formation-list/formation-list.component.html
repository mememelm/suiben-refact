<!-- <mat-toolbar class="toolbar-prp mat-elevation-z8" [routerLink]="['/home']">&nbsp;&nbsp;&nbsp; SuiBen - {{title | titlecase}}</mat-toolbar>

<div class="table-container container mat-elevation-z4 animate__animated animate__fadeInDown" style="margin-top: 40px;">

	<mat-label><strong>{{title | uppercase}}  - Total exploitants : {{ formationService.formationNumber }}</strong></mat-label>
	&nbsp;&nbsp;
	<mat-form-field>
		<mat-label class="label-head">Recherche</mat-label>
		<input matInput placeholder="Ex. Rakoto" (keyup)="applyFilter($event.target.value)">
	</mat-form-field>
	&nbsp;&nbsp;
	<mat-form-field>
		<mat-select [ngModel]="exploitants" (selectionChange)="onExploitantChange($event.value)">
			<mat-option value="tous">Tous</mat-option>
			<mat-option *ngFor="let domaine of domaines" value="{{ domaine.domaineName }}" class="sl-cedar">{{ domaine.domaineName }}</mat-option>
		</mat-select>
	</mat-form-field>

    <table mat-table [dataSource]="formationService.dataSourceformations" class="table-exp">

		<ng-container matColumnDef="exploitant">
			<th mat-header-cell *matHeaderCellDef> Exploitants </th>
			<td mat-cell  *matCellDef="let element">
				<strong>{{element.exploitantFirstName | uppercase}} {{ element.exploitantLastName | titlecase }}</strong>  <br>
				{{element.exploitantAge}} ans - {{element.exploitantSex | slice:0:1}} <br>
				{{element.exploitantDate | date: 'yyyy/MM/dd'}} - {{element.exploitantCedar}}
			</td>
			<td mat-footer-cell *matFooterCellDef></td>
        </ng-container>

        <ng-container matColumnDef="formation">
			<th mat-header-cell *matHeaderCellDef> Formations </th>
			<td mat-cell *matCellDef="let element">
				<span *ngFor="let row of element.formations">
					{{ row.formationName }}<br>
				</span>
            </td>
			<td mat-footer-cell *matFooterCellDef></td>
        </ng-container>

        <ng-container matColumnDef="formationlength">
			<th mat-header-cell *matHeaderCellDef> Nombre de formations </th>
			<td mat-cell *matCellDef="let element">
				<div *ngFor="let row of element.formations; count as c; last as isLast">
					<span *ngIf="isLast">{{ c }}</span>
				</div>
			</td>
			<td mat-footer-cell *matFooterCellDef></td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="formationService.displayedColumnsFormation; sticky: true"></tr>
		<tr mat-row *matRowDef="let row; columns: formationService.displayedColumnsFormation;"></tr>
		<tr mat-footer-row *matFooterRowDef="formationService.displayedColumnsFormation"></tr>

    </table>

</div> -->

<app-home></app-home>

<div class="card" *ngIf="loading == true">
	<div class="card-header">
		<h3 class="card-title">Formations - <span style="color: #007E3A; font-weight: bold;">Chargement en
				cours ...</span></h3>
	</div>
</div>

<div class="card" *ngIf="loading == false">
	<div class="row">
		<div class="col-md-3 mt-3 d-flex justify-content-center">
			Formations - Total : <span class="ml-1" style="color: #007E3A;"><strong>{{formationNumber}}</strong></span>
		</div>
	</div>

	<div class="card-body">
		<div class="row">
			<table datatable class="row-border hover" [dtOptions]="dtOptions" style="width: 100%;">
				<thead style="background-color: #007E3A; color: #fff;">
					<tr>
						<th style="min-width: 100px;"> Exploitant </th>
						<th> Domaine </th>
						<th> Adhésion </th>
						<th> Nombre </th>
						<th style="min-width: 150px;"> Formations </th>
						<th> Date formation </th>
						<th> Localisation </th>
						<th> Compétences </th>
						<th> Niveau d'étude </th>
						<th> Activités </th>
						<th> Spécialités </th>
					</tr>
				</thead>
				<tbody>
					<tr *ngFor="let item of dataSourceformations.filteredData"  (click)="openModal(item)">
						<td>{{item.exploitantFirstName | uppercase}} <br>
							{{item.exploitantLastName | titlecase}}<br>
							{{item.exploitantAge}} ans - {{item.exploitantSex | slice:0:1}}
						</td>

						<td>{{item.exploitantCedar}}</td>

						<td>{{item.exploitantDate | date: 'dd/MM/yyyy'}}</td>

						<td class="text-center">
							<div *ngFor="let row of item.formations; count as c; last as isLast">
								<span *ngIf="isLast">{{ c }}</span>
							</div>
						</td>

						<td>
							<span *ngFor="let row of item.formations">
								{{ row.formationName }}<br>
							</span>
						</td>

						<td>
							<span *ngFor="let row of item.formations">
								{{ row.formationDate | date: 'dd/MM/yyyy'}}<br>
							</span>
						</td>

						<td>{{item.exploitantRegion | titlecase}} <br>
							{{item.exploitantDistrict | titlecase}}
						</td>

						<td>{{item.exploitantFormation | titlecase}}</td>

						<td>{{item.exploitantSchooling | titlecase}}</td>

						<td>{{item.exploitantActivite1 | titlecase}} <br>
							{{item.exploitantActivite2 | titlecase}}
						</td>

						<td>{{item.exploitantSpeciality1 | titlecase}} <br>
							{{item.exploitantSpeciality2 | titlecase}}
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>