<app-home></app-home>

<!-- <div *ngIf="loading == true" class="d-flex justify-content-center">
	<mat-spinner style="color: #007E3A;"></mat-spinner>
</div> -->

<div class="card" *ngIf="loading == true">
	<div class="card-header">
		<h3 class="card-title">{{title | uppercase}} - <span style="color: #007E3A; font-weight: bold;">Chargement en
				cours ...</span></h3>
	</div>
</div>

<div class="card" *ngIf="loading == false">
	<div class="card-header">
		<h3 class="card-title">{{title | uppercase}} - Total : <span
				style="color: #007E3A;">{{exploitantsListNumber}}</span>
			<button class="btn btn-warning" (click)="preview()" style="float: right;"><i class="fas fa-print"></i></button> </h3>

	</div>
	<!-- /.card-header -->
	<div class="card-body">
		<div class="row">
			<!-- <div class="col-md-4 mx-auto">
				<input type="button" *ngIf="exploitants" class="" value="Imprimer" print-directive
					(click)="preview()">
			</div> -->
			<div class="col-sm-3">
				<mat-form-field>
					<mat-select [ngModel]="exploitants" (selectionChange)="onExploitantChange($event.value)">
						<mat-option value="tous">Tous</mat-option>
						<mat-option *ngFor="let domaine of domaines" value="{{ domaine.domaineName }}" class="sl-cedar">
							{{ domaine.domaineName }}</mat-option>
					</mat-select>
				</mat-form-field>
			</div>

			<div class="col-sm-3">
				<mat-form-field>
					<mat-label>Date début</mat-label>
					<input matInput [matDatepicker]="dateBegin">
					<mat-datepicker-toggle matSuffix [for]="dateBegin"></mat-datepicker-toggle>
					<mat-datepicker #dateBegin></mat-datepicker>
				</mat-form-field>
			</div>

			<div class="col-sm-3">
				<mat-form-field>
					<mat-label>Date fin</mat-label>
					<input matInput [matDatepicker]="dateEnd">
					<mat-datepicker-toggle matSuffix [for]="dateEnd"></mat-datepicker-toggle>
					<mat-datepicker #dateEnd></mat-datepicker>
				</mat-form-field>
			</div>

			<div class="col-sm-3">
				<mat-form-field>
					<mat-label>Rechecher</mat-label>
					<input matInput type="text" (keyup)="applyFilter($event.target.value)">
				</mat-form-field>
			</div>
		</div>

		<div class="row">
			<!-- Impression -->
			<div class="table-wrapper">
				<table class="table table-striped" style="width: 100%;">
					<thead style="background-color: #007E3A; color: #fff;">
						<tr>
							<th style="width: 250px;"> Etat civil </th>
							<th> Domaine</th>
							<th style="width: 150px;"> Adhésion </th>
							<th style="width: 200px;"> Localisation </th>
							<th> Compétences </th>
							<th> Niveau d'étude </th>
							<th> Activités </th>
							<th> Spécialités </th>
							<th> </th>
						</tr>
					</thead>
					<tbody *ngFor="let item of exploitants.filteredData">
						<tr>
							<td>{{item.exploitantFirstName | uppercase}} {{item.exploitantLastName | titlecase}}<br>
								{{item.exploitantAge}} ans - {{item.exploitantSex | slice:0:1}}
							</td>

							<td>{{item.exploitantCedar}}</td>

							<td>{{item.exploitantDate | date: 'dd/MM/yyyy'}}</td>

							<td>{{item.exploitantRegion | titlecase}} <br>
								{{item.exploitantDistrict | titlecase}}
							</td>

							<td>{{item.exploitantFormation | titlecase}}</td>

							<td>{{item.exploitantSchooling | titlecase}}</td>

							<td>{{item.exploitantActivite1 | titlecase}} <br>
								{{item.exploitantActivite2 | titlecase}}
							</td>

							<td>{{item.exploitantSpeciality1 | titlecase}} <br>
								{{item.exploitantSpeciality2 | titlecase}}
							</td>

							<td><i class="fas fa-info-circle" (click)="openDialogDetailsExploitant(item)"></i></td>
						</tr>
					</tbody>
				</table>
			</div>

		</div>
	</div>
</div>